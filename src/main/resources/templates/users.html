<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Start page</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;500;700&family=Zeyada&display=swap" rel="stylesheet">

  <!--    font-family: 'Exo 2', sans-serif;-->
  <!--    font-family: 'Zeyada', cursive;-->

</head>
<body>
  <h1>Users List</h1>
  <table border="1">
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Last Name</th>
      <th>Age</th>
      <th>Password</th>
      <th>Role</th>

    </tr>
    <tr th:each="user, user:${user}">
      <td th:utext="${user.current.getId()}">ID</td>
      <td th:utext="${user.current.getName()}">Name</td>
      <td th:utext="${user.current.getLastName()}">Last Name</td>
      <td th:utext="${user.current.getAge()}">Age</td>
      <td th:utext="${user.current.getPassword()}">Password</td>
      <td>
        <span th:each="role : ${user.current.roles}" th:text="${role.roleName}"></span>
      </td>
    </tr>
  </table>
  <br>

  <input type="button" value="Back to menu"
         onclick="window.location.href = '/'"/>
  <br><br>

  <input type="button" value="Add user"
         onclick="window.location.href = '/admin/users/new'"/>
  <br><br>

  <form id="deleteForm" th:action="@{/admin/users}" method="POST">
    <input type="hidden" name="_method" value="DELETE"/>
    <button type="submit">Clean Table</button>
  </form>

  <br><br>
  <form th:method="POST" th:action="@{/admin/users/{id}(id=${user.getId()})/edit}">
    <label for="idUPd">Update by ID:</label>
    <input type="text" name="id" id="idUPd"/>
    <br><br>
    <input type="submit" value="Update">
  </form>

  <br><br>
  <form th:method="DELETE" th:action="@{/admin/users/{id}(id=${user.getId()})/delete}">
    <label for="id">Delete by ID:</label>
    <input type="text" name="id" id="id"/>
    <br><br>
    <input type="submit" value="Delete">
  </form>
  <br><br>

  <input type="button" value="LogOut"
         onclick="window.location.href = '/logout'"/>

</body>
</html>